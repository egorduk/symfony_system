{% extends 'SecureBundle::layout.html.twig' %}

{% block title %}{{ 'My profile' | trans }}{% endblock %}

{% block content %}
    <div class="container">
        {#<div class="row">
            <div  class="col-xs-5 col-xs-offset-4">
                <p>ID: {{ user.id }}</p>
                <hr style="border:solid 1px black">
                <p>Ник: {{ user.login }}</p>
                <hr style="border:solid 1px black">
                <p>Email: {{ user.email }}</p>
                <hr style="border:solid 1px black">
                <p>Skype: {{ user.userInfo.skype | defaultStringData }}</p>
                <hr style="border:solid 1px black">
                <p>Имя: {{ user.userInfo.userName | defaultStringData }}</p>
                <hr style="border:solid 1px black">
                <p>Фамилия: {{ user.userInfo.surName | defaultStringData }}</p>
                <hr style="border:solid 1px black">
                <p>Отчество: {{ user.userInfo.lastName | defaultStringData }}</p>
                <hr style="border:solid 1px black">
                <p>Номер мобильного телефона: {{ user | mobileNumber | defaultStringData }}</p>
                <hr style="border:solid 1px black">
                <p>Номер стационарного телефона: {{ user.userInfo.staticPhone | defaultStringData }}</p>
                <hr style="border:solid 1px black">
                <p>Статус: {{ user.roleName }}</p>
                <hr style="border:solid 1px black">
                <p>Дата регистрации в системе: {{ user.datereg | defaultDateFormat }}</p>
                <hr style="border:solid 1px black">
                <p>Страна: {{ user | country | raw }}</p>
            </div>
        </div>#}
        <div class="row">
            <div class="col-xs-6 col-xs-offset-3">
                {{ form_start(formProfile, {'attr': {'id' : 'formProfile'}}) }}
                <div class="form-group">
                    <div>{{ user | avatar | raw }}</div>
                    {{ form_start(formProfile) }}
             {#       <div class="input-group form-group">
                        <label for="btn-change-avatar" class="btn btn-success"><span class="icon-trash-1">&nbspИзменить</span></label>
                        <input type="button" id="btn-change-avatar" class="hidden">
                    </div>#}
                    <div id="block-change-avatar" {#style="display: block"#}>
                        <div id="uploader">
                            <a id="pickFile" href="javascript:;">[Select file]</a>
                            <a id="uploadFile" href="javascript:;">[Upload file]</a>
                            <a id="delete-file" href="javascript:;">[Delete file]</a>
                            <div id="fileList">Your browser doesn't have Flash, Silverlight or HTML5 support.</div>
                        </div>
                        <div id="block-upload-avatar" style="display: block">
                            <div class="input-group">
                                <div class="file-uploader-avatar"></div>
                            </div>
                        </div>
                        <div id="block-choose-man-avatar" style="display: block">
                            <p><img src='{{ asset('bundles/secure/images/avatars/default_m.jpg') }}' align='middle' alt='Мужской аватар' width='100px' height='auto' class='thumbnail'></p>
                        </div>
                        <div id="block-choose-woman-avatar" style="display: block">
                            <p><img src='{{ asset('bundles/secure/images/avatars/default_w.jpg') }}' align='middle' alt='Мужской аватар' width='100px' height='auto' class='thumbnail'></p>
                        </div>
                        {{ form_label(formProfile.avatar) }}
                        {{ form_errors(formProfile.avatar) }}
                        <div class="input-group">
                            {{ form_widget(formProfile.avatar) }}
                        </div>
                    </div>
                    {{ form_label(formProfile.userName) }}
                    {{ form_errors(formProfile.userName) }}
                    <div class="input-group form-group">
                        <span class="input-group-addon"><i class="icon-fontsize-1"></i></span>
                        {{ form_widget(formProfile.userName) }}
                    </div>
                    {{ form_label(formProfile.surName) }}
                    {{ form_errors(formProfile.surName) }}
                    <div class="input-group form-group">
                        <span class="input-group-addon"><i class="icon-fontsize-1"></i></span>
                        {{ form_widget(formProfile.surName) }}
                    </div>
                    {{ form_label(formProfile.lastName) }}
                    {{ form_errors(formProfile.lastName) }}
                    <div class="input-group form-group">
                        <span class="input-group-addon"><i class="icon-fontsize-1"></i></span>
                        {{ form_widget(formProfile.lastName) }}
                    </div>
                    {{ form_label(formProfile.skype) }}
                    {{ form_errors(formProfile.skype) }}
                    <div class="input-group form-group">
                        <span class="input-group-addon"><i class="icon-skype-1"></i></span>
                        {{ form_widget(formProfile.skype) }}
                    </div>
                    {% block form_mobile_tel %}
                        {{ form_label(formProfile.mobilePhone) }}
                        {{ form_errors(formProfile.mobilePhone) }}
                        {{ form_errors(formProfile.country) }}
                        <div class="row">
                            <div class="form-group col-xs-3">
                                <div class="input-group">
                                    {{ form_widget(formProfile.country) }}
                                </div>
                            </div>
                            <div class="form-group col-xs-9 reset-padding">
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="icon-mobile-alt"></i></span>
                                    {{ form_widget(formProfile.mobilePhone) }}
                                </div>
                            </div>
                        </div>
                    {% endblock %}
                    {{ form_label(formProfile.staticPhone) }}
                    {{ form_errors(formProfile.staticPhone) }}
                    <div class="input-group form-group">
                        <span class="input-group-addon"><i class="icon-phone-3"></i></span>
                        {{ form_widget(formProfile.staticPhone) }}
                    </div>
                    {{ form_label(formProfile.bic) }}
                    {{ form_errors(formProfile.bic) }}
                    <div class="input-group form-group">
                        <span class="input-group-addon"><i class="icon-fontsize-1"></i></span>
                        {{ form_widget(formProfile.bic) }}
                    </div>
                    {{ form_label(formProfile.account) }}
                    {{ form_errors(formProfile.account) }}
                    <div class="input-group form-group">
                        <span class="input-group-addon"><i class="icon-fontsize-1"></i></span>
                        {{ form_widget(formProfile.account) }}
                    </div>
                    {{ form_label(formProfile.dateBirthday) }}
                    {{ form_errors(formProfile.dateBirthday) }}
                    <div class="input-group form-group">
                        <span class="input-group-addon"><i class="icon-fontsize-1"></i></span>
                        {{ form_widget(formProfile.dateBirthday) }}
                    </div>
                    <div class="input-group">
                        <button type="submit" class="btn btn-success">{{ 'Сохранить' | trans }}</button>
                        <button type="submit" class="btn btn-default">{{ 'Отмена' | trans }}</button>
                    </div>
                </div>
                {{ form_end(formProfile) }}
            </div>
        </div>
    </div>

{% endblock %}

    {% block javascripts_footer %}
        {{ parent() }}

        {% javascripts
        '@SecureBundle/Resources/public/js/jquery-3.3.1.min.js'
        '@SecureBundle/Resources/public/js/browser-plus.js'
        '@SecureBundle/Resources/public/js/jquery-ui.min.js'
        '@SecureBundle/Resources/public/js/plupload.full.min.js'
        '@SecureBundle/Resources/public/js/jquery.plupload.queue.js'
        '@SecureBundle/Resources/public/js/jquery.ui.plupload.min.js'
        '@SecureBundle/Resources/public/js/manager/script.js'
        %}
        <script src="{{ asset_url }}"></script>
        {% endjavascripts %}
    {% endblock %}